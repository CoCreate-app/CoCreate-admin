<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="../assets/favicon.ico" />
        <title>Invoice Form | CoCreate</title>
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="assets/favicon.ico" />

        <link
            rel="stylesheet"
            href="../index.css"
            array="files"
            object="637bc8fe91249e639db315d9"
            key="src"
            type="text/css" />
        <link rel="manifest" href="./manifest.webmanifest" />
    </head>
    <style>
        .floating-label_field {
            margin: 5px;
        }
    </style>

    <body>
        <!-- Modal Viewport -->
        <div id="modal-viewport" hidden></div>

        <!-- Navbar -->
        <nav
            class="nav display:flex align-items:center background:whitesmoke"
            content_id="content"
            scroll="sticky-nav, hide-nav"
            scroll-up="5"
            scroll-down="5">
            <!-- Horizontal Scroll Nav/Tabs -->
            <ul
                class="display:inline-flex direction:rtl overflow:auto font-size:20px align-items:center list-style-type:none width:100% height:50px">
                <!-- Modal Controls -->
                <li class="margin-right:15px">
                    <a actions="closeModal"
                        ><i
                            class="display:flex height:18px fill:#505050"
                            src="./assets/svg/times.svg"></i
                    ></a>
                </li>
                <li class="margin-right:15px">
                    <a actions="minMaxModal">
                        <i
                            toggle="./assets/svg/window-restore.svg, /assets/svg/window-maximize.svg"
                            toggle-attribute="src"
                            class="display:flex height:18px fill:#505050"
                            src="./assets/svg/window-maximize.svg"></i>
                    </a>
                </li>
                <li class="margin-right:15px">
                    <a actions="parkModal"
                        ><i
                            class="display:flex height:18px fill:#505050"
                            src="./assets/svg/window-minimize.svg"></i
                    ></a>
                </li>

                <!-- fullscreen toogle and icon transform-->
                <li class="margin-right:15px">
                    <a fullscreen>
                        <i
                            class="display:flex height:18px fill:#505050"
                            src="./assets/svg/expand.svg"></i>
                        <i
                            class="display:flex height:18px fill:#505050"
                            src="./assets/svg/compress.svg"></i>
                    </a>
                </li>

                <!-- Render Module Form -->
                <li class="margin-right:15px">
                    <a
                        actions="state, openModal"
                        modal-src="./modules/form.html"
                        modal-width="320px">
                        <i
                            class="display:flex height:18px fill:#505050"
                            src="./assets/svg/cog.svg"></i>
                        <div
                            state_id="module-form"
                            state-array="modules"
                            state-object=""
                            state_to="form-fields"></div>
                        <div
                            state_id="module_id"
                            state-filter-value=""
                            state_to="module_id"></div>
                    </a>
                </li>

                <!-- Render Code Editor -->
                <li class="margin-right:15px">
                    <a
                        actions="state, openModal"
                        modal-src="./code-editor/index.html">
                        <i
                            class="display:flex height:18px fill:#505050"
                            src="./assets/svg/code.svg"></i>
                        <div
                            state_id="render"
                            state-array=""
                            state-object=""
                            state-key=""
                            state_to="code-editor"></div>
                    </a>
                </li>

                <!-- Render Builder -->
                <li class="margin-right:15px">
                    <a
                        actions="state, openModal"
                        modal-src="./builder/index.html">
                        <i
                            class="display:flex height:18px fill:#505050"
                            src="./assets/svg/palette.svg"></i>
                        <div
                            state_id="render"
                            state-array=""
                            state-object=""
                            state-key=""
                            state_to="builder"></div>
                    </a>
                </li>

                <!-- deleteDocument-->
                <li class="margin-right:15px">
                    <a
                        actions="deleteDocument, closeModal"
                        array="module_activities"
                        object=""
                        state_id="form-fields">
                        <i
                            class="height:18px fill:#505050"
                            src="./assets/svg/trash-alt.svg"></i>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main content_id="content">
            <form
                state_id="form-fields"
                array="module_activities"
                object=""
                class="padding:20px padding:10px@xs">
                <input
                    type="hidden"
                    key="module_id"
                    state_id="module_id"
                    value />
                <div
                    class="display:flex flex-wrap:wrap justify-content:space-between padding-bottom:20px border-bottom:1px_solid_lightgrey">
                    <div
                        class="flex-grow:1 max-width:370px margin-right:20px@sm@md@lg@xl">
                        <input
                            type="text"
                            key="_id"
                            placeholder="Invoice#"
                            input-selector="[key='invoice_id']"
                            input-attribute="value"
                            input-events="input, onload"
                            class="floating-label"
                            crdt="false"
                            readonly />
                    </div>
                    <div class="display:flex flex-wrap:wrap max-width:370px">
                        <div class="flex-grow:1 width:185px">
                            <input
                                type="date"
                                key="date-issue"
                                placeholder="Date Issue"
                                class="floating-label" />
                        </div>
                        <div class="flex-grow:1 width:185px">
                            <input
                                type="date"
                                key="date-due"
                                placeholder="Date Due"
                                class="floating-label" />
                        </div>
                    </div>
                </div>
                <div
                    class="max-width:370px padding:20px_0px border-bottom:1px_solid_lightgrey">
                    <input
                        type="text"
                        key="name"
                        placeholder="Invoice Name"
                        class="floating-label" />
                </div>
                <div
                    class="padding:20px_0px border-bottom:1px_solid_lightgrey max-width:370px">
                    <label class="padding-bottom:10px">Bill To</label>
                    <div class="padding-bottom:10px">
                        <input
                            type="text"
                            key="house-no"
                            placeholder="House No."
                            class="floating-label" />
                    </div>
                    <div class="padding-bottom:10px">
                        <textarea
                            key="street"
                            placeholder="Landmark/Street"
                            class="floating-label"></textarea>
                    </div>
                    <div class="padding-bottom:10px">
                        <input
                            type="text"
                            key="city"
                            placeholder="City"
                            class="floating-label" />
                    </div>
                    <div>
                        <input
                            type="text"
                            key="pincode"
                            placeholder="Pincode"
                            class="floating-label" />
                    </div>
                </div>
            </form>

            <div
                sortable
                class="margin:0px_20px padding:20px_0px border-bottom:1px_solid_lightgrey"
                array="items-ordered"
                filter-key="invoice_id"
                filter-value=""
                state_id="form-fields"
                filter-operator="$eq"
                render-selector="[template]"
                dnd-group-key="item-row">
                <div
                    id="item-row"
                    class="border-color:medium-gray margin-bottom:10px"
                    template
                    object="{{object._id}}">
                    <form
                        class="display:flex"
                        array="{{object.array}}"
                        object="{{object._id}}">
                        <div
                            class="display:flex flex-wrap:wrap flex-grow:1 align-items:center justify-content:space-around padding-bottom:10px border-right:1px_solid_lightgrey">
                            <div class="display:flex flex-grow:1">
                                <input
                                    class="floating-label max-width:70px"
                                    key="Item-n"
                                    placeholder="Item#" />
                                <div class="flex-grow:1 height:40px">
                                    <cocreate-select
                                        class="floating-label"
                                        key="Item"
                                        placeholder="Item">
                                        <input
                                            placeholder="Search"
                                            filter-next
                                            filter-search />
                                        <ul
                                            class="options overflow:auto"
                                            array="items"
                                            render-selector="[template]">
                                            <li
                                                class="option"
                                                template
                                                value="{{object._id}}"
                                                object="{{object._id}}"
                                                render="data">
                                                <h3
                                                    key="name"
                                                    value="{{object.name}}">
                                                    Item Name
                                                </h3>
                                                <h5>{{object._id}}</h5>
                                            </li>
                                        </ul>
                                    </cocreate-select>
                                </div>
                            </div>
                            <div class="display:flex">
                                <input
                                    id="qty-{{object._id}}"
                                    class="floating-label max-width:70px"
                                    key="qty"
                                    placeholder="Qty" />
                                <input
                                    id="price-{{object._id}}"
                                    class="floating-label max-width:100px"
                                    key="price"
                                    placeholder="Price" />
                                <input
                                    id="total-{{object._id}}"
                                    realtime="false"
                                    class="floating-label max-width:130px item-total"
                                    key="total"
                                    placeholder="Total"
                                    calculate="{#price-{{object._id}}} * {#qty-{{object._id}}}" />
                            </div>
                            <div>
                                <!--<input class="item-description floating-label" key="description"  placeholder="Description"./>-->
                            </div>
                        </div>

                        <div
                            class="padding:10px display:flex justify-content:space-between flex-direction:column">
                            <a
                                actions="deleteDocument, closeModal"
                                array="{{object.array}}"
                                object="{{object._id}}"
                                class="text-align-center"
                                ><i
                                    class="height:18px fill:#505050"
                                    src="./assets/svg/times.svg"></i
                            ></a>
                            <a
                                ><i
                                    class="display:flex height:18px fill:#505050"
                                    src="./assets/svg/cog.svg"></i
                            ></a>
                        </div>
                    </form>
                </div>

                <div class="noDrag padding-top:10px">
                    <form realtime="false" array="items-ordered" object="">
                        <input type="hidden" key="invoice_id" />
                        <a
                            actions="save, reset"
                            class="noDrag padding:10px background:gainsboro"
                            ><i
                                class="height:16px fill:#505050"
                                src="./assets/svg/plus.svg"></i>
                            Add Item</a
                        >
                    </form>
                </div>
            </div>

            <form state_id="form-fields" array="module_activities" object="">
                <div
                    class="padding:20px display:flex flex-wrap:wrap justify-content:space-between">
                    <div class="min-width:300px max-width:550px flex-grow:1">
                        <div class="padding-bottom:10px">
                            <input
                                type="text"
                                key="payment-terms"
                                placeholder="Add Payment Terms"
                                class="floating-label" />
                        </div>
                        <div class="padding-bottom:10px">
                            <input
                                type="text"
                                key="clite-note"
                                placeholder="Add client Note"
                                class="floating-label" />
                        </div>
                    </div>
                    <div class="flex-grow:1 width:225px max-width:400px">
                        <div
                            class="padding:20px_0px border-bottom:1px_solid_lightgrey">
                            <div
                                class="display:flex justify-content:space-between">
                                <label class="color-dark-gray">Subtotal</label>
                                <span id="subtotal" calculate="{.item-total}"
                                    >$00.00</span
                                >
                            </div>
                            <div
                                class="display:flex justify-content:space-between">
                                <label class="color-dark-gray">Discount</label>
                                <input id="discount" key="discount" />
                            </div>
                            <div
                                class="display:flex justify-content:space-between">
                                <label class="color-dark-gray">Tax</label>
                                <input id="tax-precent" key="tax-rate" />
                                <input
                                    type="hidden"
                                    id="tax"
                                    calculate="({#subtotal} - {#discount}) * {#tax-precent}" />
                            </div>
                        </div>
                        <div class="padding:20px_0px">
                            <div
                                class="display:flex justify-content:space-between">
                                <label class="color-dark-gray"
                                    >Estimate Total</label
                                >
                                <span
                                    id="total"
                                    calculate="{#subtotal} - {#discount} + {#tax}"
                                    key="total"
                                    read="false"
                                    >$00.00</span
                                >
                            </div>
                            <div
                                class="display:flex justify-content:space-between">
                                <label class="color-dark-gray"
                                    >Paid to date</label
                                >
                                <span id="paid" key="paid">0</span>
                            </div>
                            <div
                                class="display:flex justify-content:space-between">
                                <label class="color-dark-gray"
                                    >Balance (USD)</label
                                >
                                <span
                                    calculate="{#total} - {#paid}"
                                    key="balance"
                                    read="false"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </main>

        <script src="https://CoCreate.app/dist/CoCreate.js"></script>
        <!--<script src="https://CoCreate.app/dist/CoCreate.js"></script>-->
    </body>
</html>
