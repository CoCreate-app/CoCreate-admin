<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Database | CoCreate</title>
        <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon.ico">
        <link rel="stylesheet" type="text/css" href="https://cdn.cocreate.app/latest/CoCreateCSS.min.css">
        <link rel="stylesheet" href="./index.css" collection="files" document_id="60e4f9714792bff869f1bde5" name="src" parse="true" type="text/css"/>
    </head>

    <style type="text/css">
        .cocreate-search .floating-label_field{margin-top:0px;}
        .active [actions]{
            display:block;
        }
    </style> 

    <body>
        <a href="./signin.html" session="false" hidden></a>
        <!-- Navbar  -->
        <nav class="nav display:flex align-items:center background:whitesmoke" content_id="content" scroll=", hide-nav" scroll-up="5" scroll-down="5">
      
			<!-- Menu Icon -->
			<a class="menu_icon" click="active" toggle="width:275px," toggle-target="#menuL" toggle-attribute="style">
				<span></span>
				<span></span>
				<span></span>
			</a>
        
            <!-- Horizontal Scroll Nav/Tabs -->
            <ul class="display:inline-flex direction:rtl overflow:auto font-size:20px align-items:center list-style-type:none width:100% height:50px">
				<!-- Modal Controls -->
				<li class="margin-right:15px"><a actions="closeModal"><i class="fas fa-times"></i></a></li>
				<li class="margin-right:15px"><a actions="minMaxModal"><i toggle="fa-window-restore, fa-window-maximize" class="far fa-window-maximize"></i></a></li>
				<li class="margin-right:15px"><a actions="parkModal"><i class="far fa-window-minimize"></i></a></li>

            	<!-- Fullscreen toogle -->
				<li class="margin-right:15px"><a fullscreen><i toggle="fa-compress, fa-expand" class="fas fa-expand"></i></a></li>
              
                <!-- Render Module Form -->
                <li class="margin-right:15px">
                    <a target="modal" href="../modules/form.html" modal-width="320px">
                        <i class="fas fa-cog"></i>
                        <div pass-collection="modules" pass-document_id="5ff747727005da1c2727419c" pass_to="form-fields"></div>
                        <div pass-filter-value="5ff747727005da1c2727419c" pass_to="module_id"></div>
                    </a>
                </li>
                
                <!-- Render Code Editor -->
                <li class="margin-right:15px">
                    <a target="modal" href="../code-editor/index.html">
                        <i class="fas fa-code"></i>
                        <div pass_id="render" pass-collection="files" pass-document_id="60bea334b25613e8da1b4bdf" pass-name="src" pass_to="code-editor"></div>
                    </a>
                </li>
                
                <!-- Render Builder -->
                <li class="margin-right:15px">
                    <a target="modal" href="../builder/index.html" class="sessionBuilderUI_Id">
                        <i class="fas fa-palette"></i>
                        <div pass_id="render" pass-collection="files" pass-document_id="60bea334b25613e8da1b4bdf" pass-name="src" pass_to="builder"></div>
                    </a>
                </li>
                
            </ul>
        </nav>
    
        <!-- Modal Viewport  -->
        <div class="position:fixed margin-top:50px" content_id="content" id="modal-viewport"></div>
       
        <!-- Main container  -->
        <main class="height:100vh padding:10px" content_id="content">

            <table class="width:100% border-collapse:collapse">
				<tr class="border-bottom:1px_solid_darkgray">
					<td class="position:sticky top:0 background:white padding:15px  z-index:7">
	            		<floating-label>
							<input type="text" class="floating-label" template_id="datatable" placeholder="Search">
						</floating-label>
					</td>
				</tr>
				<tbody template_id="datatable" fetch-collection="" pass-refresh pass_id="datatable" fetch-count="5">
					<tr  template_id="datatable" class="template background:whitesmoke:hover border-bottom:1px_solid_darkgray" document_id="{{data._id}}" toggle="selected" hover="visibility:visible!important" hover-target=".tools{{data._id}}">
						<td class="padding:5px min-width:300px align-items:center">
                            <div class="display:flex justify-content:flex-end transition:0.3s padding-left:10px" >
                                <div class="visibility:hidden tools{{data._id}}">
                                    <a class="float:right margin-right:15px" actions="deleteDocument" collection="{{collection}}" document_id=""><i class="fas fa-trash"></i></a>
                                </div>
                            </div>
                            <div class="template display:flex" render-object="data" render-key="one" hover="visibility:visible!important" hover-target=".tools{{data._id}}{{one.key}}">
                                <span class="visibility:hidden tools{{data._id}}{{one.key}}">
                                    <form realtime="false" class="margin-top:10px">
                                        <input type="hidden" collection="{{collection}}" document_id="{{data._id}}" name="{{one.key}}.untitled" value="untitiled"/>
                                        <a actions="save, reset"><i class="fas fa-plus"></i></a>
                                    </form>
                                    <form realtime="false" class="margin-top:10px">
                                        <a actions="deleteName" collection="{{collection}}" document_id="{{data._id}}" deleteName="{{one.key}}"><i class="fas fa-trash"></i></a>
                                    </form>
            
                                </span>
                                <span class="padding:10px"><span collection="{{collection}}" document_id="{{data._id}}" updateName="{{one.key}}" contenteditable>{{one.key}}</span>: </span>
                                <div get-value=".{{one.type}}" class="width:100%" parentKey="{{one.key}}" parentType="{{one.type}}"></div>
                                
                            </div>
						</td>
					</tr>
				</tbody>
			</table>
            <div template_id="datatable" fetch-type="scroll" class="opacity:0 height:30px"></div>
            
            <button class="position:fixed bottom:15px right:15px width:50px height:50px background:dodgerblue grow-hover border-radius:50% z-index:8 color:white">
                <form collection="" document_id="" pass_id="datatable">
                    <input type="hidden" document_id="" name="name" value="untitled" pass_id="module_id"/>
                    <a actions="save, reset"><i class="fas fa-plus"></i></a>
                </form>
            </button>

        </main>
        
        <!-- SideNav  -->
        <sidenav id="menuL" class="position:fixed top:0px left:0px overflow:hidden background:whitesmoke height:100vh width:275px width:0px@xs" resizable resize-target="[content_id='content']" resize-property="margin-left" resize-value="width">
        
			<!-- Search -->
			<form class="padding:5px">
                <floating-label>
                    <input type="text" class="floating-label" name="collection" filter-name="name" template_id="collections">
                </floating-label>
				<span class="passValueBtn position:relative bottom:29px right:11px float:right font-size:18px">
					<a actions="createCollection, reset">
						<i class="fas fa-plus"></i>
					</a>
				</span>
			</form>
        	
        	<div class="padding-right:5px padding-bottom:5px">
                <!-- Fetch and Render-->
                <ul class="overflow:auto display:flex flex-direction:column width:100% height:calc(100vh_-_90px) bottom:10px margin-right:5px">
                    <div fetch-collections filter-order-name="name" filter-order-type="asc" filter-name="name" filter-value="permissions" filter-operator="$ne" template_id="collections">
                        
                        <!-- Template -->
                        <li template_id="collections" class="template line-height:40px height:40px overflow:hidden white-space:nowrap background:dodgerblue:hover" hover="active" document_id="{{data.name}}">
                            <a pass-collection="{{data.name}}" pass_to="datatable" class="display:inline-block padding-left:15px">
                                <span>{{data.name}}</span>
                                <div pass-collection="{{data.name}}" pass_to="datatable"></div>
                            </a>
                            <div class="float:right width:50px text-align:center">
                                <a actions="deleteCollection" collection="{{data.name}}" class="display:none">
                                    <i class="fas fa-trash"></i>
                                </a>
                            </div>

                        </li>
                    </div>
                </ul>
			</div>
            <div resize="right"></div>
        </sidenav>
        
		<div class="position:fixed!important bottom:15px right:15px">
	        <div template_id="notification" class="template card position:fixed!important bottom:15px right:15px padding:10px {{status}}">
	            <span class="{{type}}">{{message}}</span><a actions="remove" remove-closest="[templateid]"> X</a>
	        </div>
		</div>

        <template class="string" hidden>
            <floating-label render>
                <textarea rows="1" collection="{{collection}}" document_id="{{data._id}}" name="$parents" class="floating-label"></textarea>
            </floating-label>
        </template>

        <!-- <template id="string" hidden readonly>
            <span collection="{{collection}}" document_id="{{data._id}}" name="$parents" value-type="string" selected-value="true" selected-attribute="contenteditable" render></span>
        </template> -->
        <template class="object array" hidden>
            <div render-object="data.$parents" render-key="$auto" class="template margin-top:20px" render>
                <div class="display:flex padding-top:10px" hover="visibility:visible!important" hover-target="[tools='$parents{{$auto.key}}']">
                    <span class="visibility:hidden tools$parents{{$auto.key}}" tools="$parents{{$auto.key}}">
                        <form realtime="false" class="margin-top:10px">
                            <input type="hidden" collection="{{collection}}" document_id="{{data._id}}" name="$parents.untitled" value="untitiled"/>
                            <a actions="save, reset"><i class="fas fa-plus"></i></a>
                        </form>
                        <form realtime="false" class="margin-top:10px">
                            <a actions="deleteName" collection="{{collection}}" document_id="{{data._id}}" deleteName="$parents.{{$auto.key}}"><i class="fas fa-trash"></i></a>
                        </form>
                    </span>
                    <span class="padding:10px"><span collection="{{collection}}" document_id="{{data._id}}" value-prefix="$parents." updateName="$parents.{{$auto.key}}" contenteditable>{{$auto.key}}</span>: </span>
                    <div get-value=".{{$auto.type}}" parentKey="{{$auto.key}}" parentType="{{$auto.type}}"></div>
                </div>
            </div>
        </template>

        <script src="https://cdn.cocreate.app/1.28.7/CoCreate.min.js"></script>
        <!-- <script src="../../../../CoCreateJS/dist/CoCreate.js"></script> -->
        
    </body>
</html>