<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="https://cdn.cocreate.app/favicon.ico" type="image/ico" sizes="16x16">
        <title>Website Form | CoCreate</title>
        <link rel="stylesheet" href="../index.css" collection="files" document_id="60e4f9714792bff869f1bde5" name="src" type="text/css"/>
        <style type="text/css">
            .collapsed>.menu-items {
                height: 0px;
                overflow: hidden
            }

            .menu-item.active {
                height: 100%
            }

            .tab[selected] {
                background: whitesmoke;
            }
        </style>
    </head>

    <body>
        <!-- Modal Viewport -->
        <div id="modal-viewport" hidden></div>

        <!-- Navbar -->
        <nav class="nav display:flex align-items:center background:whitesmoke" content_id="content" scroll="sticky-nav, hide-nav" scroll-up="5" scroll-down="5">

            <!-- Horizontal Scroll Nav/Tabs -->
            <ul class="display:inline-flex direction:rtl overflow:auto font-size:20px align-items:center list-style-type:none width:100% height:50px">

                <!-- Modal Controls -->
                <li class="margin-right:15px"><a class="btn-modal-close"><i class="fas fa-times"></i></a></li>
                <li class="margin-right:15px"><a class="btn-modal-maximize"><i toggle="fa-window-restore, fa-window-maximize" class="far fa-window-maximize"></i></a></li>
                <li class="margin-right:15px"><a class="btn-modal-minimize"><i class="far fa-window-minimize"></i></a></li>

                <!-- fullscreen toogle and icon transform-->
                <li class="margin-right:15px"><a fullscreen><i toggle="fa-compress, fa-expand" class="fas fa-expand"></i></a></li>

                <!-- Render Module Form -->
                <li class="margin-right:15px">
                    <a target="modal" href="../modules/form.html" modal-width="320px">
                        <i class="fas fa-cog"></i>
                        <div pass_id="module-form" pass-collection="modules" pass-document_id="" pass_to="form-fields"></div>
                        <div pass_id="module_id" pass-filter-value="" pass_to="module_id"></div>
                    </a>
                </li>

                <!-- Render Code Editor -->
                <li class="margin-right:15px">
                    <a target="modal" href="../code-editor/index.html">
                        <i class="fas fa-code"></i>
                        <div pass_id="render" pass-collection="" pass-document_id="" pass-name="" pass_to="code-editor"></div>
                    </a>
                </li>

                <!-- Render Builder -->
                <li class="margin-right:15px">
                    <a target="modal" href="../builder/index.html">
                        <i class="fas fa-palette"></i>
                        <div pass_id="render" pass-collection="" pass-document_id="" pass-name="" pass_to="builder"></div>
                    </a>
                </li>

                <!-- deleteDocument-->
                <li class="margin-right:15px">
                    <a actions="deleteDocument" collection="module_activities" document_id="" pass_id="form-fields" class="btn-modal-close">
                        <i class="far fa-trash-alt"></i>
                    </a>
                </li>
            </ul>
        </nav>
        <main class="padding:10px" content_id="content">
            
            <form pass_id="form-fields" collection="module_activities" document_id="" id="form">
                <input type="text" name="name" id="name" placeholder="Website Name" class="floating-label">
                <input type="hidden" name="module_id" pass_id="module_id" value>
                <input type="hidden" name="_id" id="website_id">
                <input type="text" name="description" id="description" placeholder="Description" class="floating-label">
                <input type="text" name="image" placeholder="Preview" class="floating-label">
				<cocreate-select sortable class="floating-label" name="home" placeholder="Home Page">
					<input placeholder="Search" template_id="home">
					<cc-options fetch-collection="" filter-name="" filter-value="" order-by="name" order-type="asc" template_id="home" pass_id="website_id" class="overflow:auto">
						<cc-option class="template" template_id="home" value="{{data._id}}">
							<h3 collection="{{collection}}" document_id="{{data._id}}" name="path"></h3>
						</cc-option>
					</cc-options>
				</cocreate-select>
                <button actions="save" class="position:fixed bottom:15px right:15px bg:blue grow-hover border-radius:50% padding:15px">
                    <i class="far fa-save"></i>
                </button>
            </form>
            
            <section id="website-pages">
                <!-- Website Pages -->
                <div class="card display:flex padding:10px_15px margin-top:10px font-size:18px"> 
                    <span class="flex-grow:1">Website Pages</span> 
                    <a show="#page-templates" hide="#form, #website-pages" pass-collection="files" pass_to="page-templates"><i class="far fa-plus-square"></i></a>
                </div>
                <!--<input type="hidden" filter-name="module-view" filter-value="module-view" template_id="module-views">-->
                <div fetch-collection="" filter-name="" filter-value="" order-by="name" order-type="asc" template_id="website-pages" pass_id="website_id" sortable class="background:whitesmoke padding:10px" dnd-group-name="website-pages">
                    <div template_id="website-pages" class="template card padding:10px_5px background:white collapsed margin-bottom:10px" document_id="{{data._id}}" id="module-view{{data._id}}">
                        <div class="display:flex padding-left:10px">
                            <a target="modal" href="../files/form.html" modal-width="320px" class="flex-grow:1 font-size:16px padding:5px_0">
                                <p collection="{{collection}}" document_id="{{data._id}}" name="path"></p>
								<div pass-collection="{{collection}}" pass-document_id="{{data._id}}" pass_to="form-fields"></div>
								<div pass_id="form" pass-collection="" pass-document_id="" pass-name="" pass_to="render"></div>
								<div pass-value="{{data.module_id}}" pass-filter-value="{{data.module_id}}" pass_to="module_id"></div>
								<div pass-document_id="{{data.module_id}}" pass_to="module-form"></div>
                                <!--<div pass-fetch-collection="{{collection}}" pass-filter-name="website_id" pass-filter-value="{{data._id}}" pass_to="website_id"></div>-->
                            </a>
                            <!--<p collection="{{collection}}" document_id="{{data._id}}" name="name" class="flex-grow:1 font-size:16px padding:5px_0">Web Page</p>-->
                            <!--<input collection="{{collection}}" document_id="{{data._id}}" name="name" class="flex-grow:1 min-width:100px border:none outline:none font-size:16px" placeholder="View Name">-->
                            <!--<input type="hidden" collection="{{collection}}" document_id="{{data._id}}" name="module_id">-->
                            <a actions="deleteDocument" collection="{{collection}}" document_id="{{data._id}}" class="float:right padding:5px">    
                                <i class="fas fa-trash"></i>                
                            </a> 
                            <a target="modal" href="../builder/index.html" class="float:right padding:5px">  
                                <i class="fas fa-palette"></i>              		 
                                <div pass-collection="{{collection}}" pass-document_id="{{data._id}}" pass-name="src" pass_to="builder">      			
                                </div>                
                            </a>
                            <!-- Render Code Editor -->
                            <a target="modal" href="../code-editor/index.html" class="float:right padding:5px">
                                <i class="fas fa-code"></i>
                                <div pass_id="render" pass-collection="{{collection}}" pass-document_id="{{data._id}}" pass-name="src" pass_to="code-editor"></div>
                            </a>                            
                        </div>
                    </div>
                </div>
            </section>
            <!-- Website Page templates -->
            <div hidden id="page-templates">
				<div template_id="module-templates" filter-name="tags" filter-value="template"></div>
                <div class="display:flex flex-wrap:wrap" fetch-collection="" pass-refresh="true" order-by="name" order-type="asc" template_id="module-templates" pass_id="page-templates">
                    <div class="card template min-width:250px flex-grow:1 margin:10px box-shadow-hover" template_id="module-templates">
                        <div class="position:relative"> 
                            <img collection="{{collection}}" document_id="{{data._id}}" name="image" src="https://via.placeholder.com/150" width="100%">
                            <form realtime="false" collection="files" document_id=""> 
                                <input type="hidden" name="name" placeholder="View Name" value="{{data.name}}"> 
                                <input type="hidden" name="website_id" get-value="#website_id"> 
                                <textarea hidden name="html" value="{{data.html}}"></textarea>
                                <textarea hidden name="css" value="{{data.css}}"></textarea> 
                                <textarea hidden name="js" value="{{data.js}}"></textarea>
                                <button class="position:absolute background:dodgerblue float:right bottom:-18px right:10px border-radius:50% padding:10px font-size:20px grow-hover" actions="save, reset" show="#form, #website-pages" hide='#page-templates' pass-collection="files" pass_to="website_id">                      
                                    <i class="fa fa-plus"></i>                  
                                </button> 
                            </form>
                            <div class="position:absolute bottom:5px width:100% padding:0px_10px font-size:25px color:white background:black opacity:0.4">
                                <span collection="{{collection}}" document_id="{{data._id}}" name="name">Template Name</span>
                            </div>
                        </div>
                        <div class="padding:10px">
                            <p collection="{{collection}}" document_id="{{data._id}}" name="description">Description</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <script src="https://cdn.cocreate.app/1.15.7/CoCreate.min.js"></script>

    </body>

</html>
