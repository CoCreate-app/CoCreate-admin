<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="https://cdn.cocreate.app/favicon.ico" type="image/ico" sizes="16x16">
        <title>Module Activity Kanban View | CoCreate</title>
        <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon.ico">
		<link rel="stylesheet" type="text/css" href="https://cdn.cocreate.app/latest/CoCreateCSS.min.css">
        <link rel="stylesheet" href="./index.css" collection="files" document_id="60e4f9714792bff869f1bde5" name="src" type="text/css"/>
    </head>

    <body>
        <!-- Modal Viewport -->
        <div id="modal-viewport" hidden></div>

        <!-- Navbar -->
        <nav class="nav display:flex align-items:center background:whitesmoke" content_id="content" scroll="sticky-nav, hide-nav" scroll-up="5" scroll-down="5">

            <!-- Horizontal Scroll Nav/Tabs -->
            <ul class="display:inline-flex direction:rtl overflow:auto font-size:20px align-items:center list-style-type:none width:100% height:50px">

                <!-- Modal Controls -->
                <li class="margin-right:15px"><a actions="closeModal"><i class="fas fa-times"></i></a></li>
                <li class="margin-right:15px"><a actions="minMaxModal"><i toggle="fa-window-restore, fa-window-maximize" class="far fa-window-maximize"></i></a></li>
                <li class="margin-right:15px"><a actions="parkModal"><i class="far fa-window-minimize"></i></a></li>

                <!-- fullscreen toogle and icon transform-->
                <li class="margin-right:15px"><a fullscreen><i toggle="fa-compress, fa-expand" class="fas fa-expand"></i></a></li>

                <!-- Render Module Form -->
                <li class="margin-right:15px">
                    <a target="modal" href="../modules/form.html" modal-width="320px">
                        <i class="fas fa-cog"></i>
                        <div pass_id="module-form" pass-collection="modules" pass-document_id="" pass_to="form-fields"></div>
                        <div pass_id="module_id" pass-filter-value="" pass_to="module_id"></div>
                    </a>
                </li>

                <!-- Render Code Editor -->
                <li class="margin-right:15px">
                    <a target="modal" href="../code-editor/index.html">
                        <i class="fas fa-code"></i>
                        <div pass_id="render" pass-collection="" pass-document_id="" pass-name="" pass_to="code-editor"></div>
                    </a>
                </li>

                <!-- Render Builder -->
                <li class="margin-right:15px">
                    <a target="modal" href="../builder/index.html">
                        <i class="fas fa-palette"></i>
                        <div pass_id="render" pass-collection="" pass-document_id="" pass-name="" pass_to="builder"></div>
                    </a>
                </li>

                <!-- deleteDocument-->
                <li class="margin-right:15px">
                    <a actions="deleteDocument, closeModal" collection="" document_id="" pass_id="form-fields">
                        <i class="far fa-trash-alt"></i>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="padding:10px" content_id="content">

            <div id="board" class="display:flex overflow:auto height:90vh">

                <div class="display:flex flex-wrap:nowrap flex-direction:row " sortable dnd-group-name="stage" fetch-collection="" fetch-document filter-name="module_id" filter-value="" filter-operator="$eq" filter-sort-name="stage_position" filter-sort-type="asc" template_id="stage" render_id="stage" pass_id="datatable" droppable="true">

                    <!-- Stage Column -->
                    <div class="template margin:10px background:whitesmoke max-width:300px" template_id="stage" eid="{{stage._id}}" document_id="{{stage._id}}">
                        <div class="margin:15px font-size:18px color-dark-gray">
                            <span class="display:inline-block">
                              <input class="input_field"
                                collection="{{document.collection}}" 
                                document_id="{{stage._id}}" 
                                name="name" 
                                id="stage-name"  
                                placeholder="Stage">
                            </span>
                            <span class="float:right display:inline-block">
                                <a actions="deleteDocument" collection="{{document.collection}}" document_id="{{stage._id}}"><i class="fas fa-times"></i></a>
                            </span>
                        </div>
                        <div class="height:70vh padding:10px overflow:auto">

                            <div class="display:flex flex-direction:column height:100% " sortable dnd-group-name="card" fetch-collection="{{document.collection}}" filter-name="stage" filter-value="{{stage._id}}" filter-operator="$eq" fetch-count="" filter-sort-name="stage-index_position"
                                filter-sort-type="asc" template_id="{{stage._id}}">

                                <!-- Card -->
                                <div class="template card margin-bottom:10px padding:10px background:white" template_id="{{stage._id}}" value="{{document._id}}" document_id="{{document._id}}">
                                    <div class="width:100%">
                                        <img collection="{{document.collection}}" document_id="{{document._id}}" name="image" src="https://via.placeholder.com/150" width="100%"></img>
                                    </div>
                                    <div class="border-bottom:1px_solid_gray margin:0px_15px">
                                        <div class="display:flex margin:10px_0px">
                                            <span class="cocreate-badge round badge-danger margin-right:10px font-size:10px padding:0px_20px"></span>
                                            <span class="cocreate-badge round margin-right:10px font-size:10px padding:0px_20px"></span>
                                        </div>
                                        <p collection="{{document.collection}}" document_id="{{document._id}}" name="name">Card Name</p>
                                        <div class="display:flex margin:10px_0px">
                                            <span class="cocreate-badge badge-danger margin-right:10px font-size:14px">
                                                <i class="far fa-clock"></i>
                                                <span>Aug 29th 17</span>
                                            </span>
                                            <span class="cocreate-badge margin-right:10px font-size:14px">
                                                <i class="far fa-check-circle"></i>
                                                <span>2/7</span>
                                            </span>
                                        </div>
                                        <div class="display:flex">

                                            <!-- Avatar -->
                                            <div class="avatar-wrapper margin:5px">
                                                <a class="avatar round" target="modal" href="./users/profile.html" modal-width="300px" modal-height="375px"  modal-color="#229954">
                                                    <span collection="users" document_id="" name="name" class="avatar-name"></span>
                                                    <span class="avatar-image">
                                                        <img collection="users" document_id="" name="avatar" onerror="this.style.display='none'" width="40px"/>
                                                    </span>
                                                </a>
                                                <div class="avatar-status" collection="users" document_id="" user-status='{"name":"status"}'></div>
                                            </div>
                                            
                                        </div>
                                    </div>
                                    <div class="display:flex margin:15px">
                                        <span class="float:left"><i class="fas fa-eye"></i></span>
                                        <div class="display:flex float:right">
                                            <span class="margin-left:10px"><i class="far fa-sticky-note"></i><span>0</span></span>
                                            <span class="margin-left:10px"><i class="far fa-envelope"></i><span>8</span></span>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="margin:0px_15px padding:15px_0px">
                            <form collection="{{document.collection}}">
                                <input type="hidden" document_id="" name="stage" value="{{stage._id}}" />
                                <a actions="save, reset"><i class="fas fa-plus"></i> New Card</a>
                            </form>
                        </div>
                    </div>

                </div>
            </div>

            <form>
                <input type="hidden" pass_id="module_id" collection="" document_id="" name="module_id"/>
                <button actions="save, reset" class="position:fixed bottom:15px right:15px background:dodgerblue border-radius:50% grow-hover">
                    <i class="fas fa-plus"></i>
               	</button>
            </form>

        </main>

        <script src="https://cdn.cocreate.app/1.29.4/CoCreate.min.js"></script>


    </body>

</html>
