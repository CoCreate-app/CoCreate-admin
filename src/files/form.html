<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link
            rel="icon"
            href="https://cdn.cocreate.app/favicon.ico"
            type="image/ico"
            sizes="16x16" />
        <title>Files Form | CoCreate</title>
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="assets/favicon.ico" />
        <link
            rel="stylesheet"
            type="text/css"
            href="https://cdn.cocreate.app/latest/CoCreate.min.css" />
        <link
            rel="stylesheet"
            href="../index.css"
            collection="files"
            document_id="637bc8fe91249e639db315d9"
            name="src"
            type="text/css" />
        <link rel="manifest" href="/manifest.webmanifest" />
    </head>

    <body>
        <!-- Modal Viewport -->
        <div id="modal-viewport" hidden></div>

        <!-- Navbar -->
        <nav
            class="nav display:flex align-items:center background:whitesmoke"
            content_id="content"
            scroll="sticky-nav, hide-nav"
            scroll-up="5"
            scroll-down="5">
            <!-- Horizontal Scroll Nav/Tabs -->
            <ul
                class="display:inline-flex direction:rtl overflow:auto font-size:20px align-items:center list-style-type:none width:100% height:50px">
                <!-- Modal Controls -->
                <li class="margin-right:15px">
                    <a actions="closeModal"
                        ><i
                            class="display:flex height:18px fill:#505050"
                            src="/assets/svg/times.svg"></i
                    ></a>
                </li>
                <li class="margin-right:15px">
                    <a actions="minMaxModal">
                        <i
                            toggle="/assets/svg/window-restore.svg, /assets/svg/window-maximize.svg"
                            toggle-attribute="src"
                            class="display:flex height:18px fill:#505050"
                            src="/assets/svg/window-maximize.svg"></i>
                    </a>
                </li>
                <li class="margin-right:15px">
                    <a actions="parkModal"
                        ><i
                            class="display:flex height:18px fill:#505050"
                            src="/assets/svg/window-minimize.svg"></i
                    ></a>
                </li>

                <!-- fullscreen toogle and icon transform-->
                <li class="margin-right:15px">
                    <a fullscreen>
                        <i
                            class="display:flex height:18px fill:#505050"
                            src="/assets/svg/expand.svg"></i>
                        <i
                            class="display:flex height:18px fill:#505050"
                            src="/assets/svg/compress.svg"></i>
                    </a>
                </li>

                <!-- Render Module Form -->
                <li class="margin-right:15px">
                    <a
                        actions="pass, openModal"
                        modal-src="./modules/form.html"
                        modal-width="320px">
                        <i
                            class="display:flex height:18px fill:#505050"
                            src="/assets/svg/cog.svg"></i>
                        <div
                            pass_id="module-form"
                            pass-collection="modules"
                            pass-document_id=""
                            pass_to="form-fields"></div>
                        <div
                            pass_id="module_id"
                            pass-filter-value=""
                            pass_to="module_id"></div>
                    </a>
                </li>

                <!-- Render Code Editor -->
                <li class="margin-right:15px">
                    <a
                        actions="pass, openModal"
                        modal-src="./code-editor/index.html">
                        <i
                            class="display:flex height:18px fill:#505050"
                            src="/assets/svg/code.svg"></i>
                        <div
                            pass_id="render"
                            pass-collection=""
                            pass-document_id=""
                            pass-name=""
                            pass_to="code-editor"></div>
                    </a>
                </li>

                <!-- Render Builder -->
                <li class="margin-right:15px">
                    <a
                        actions="pass, openModal"
                        modal-src="./builder/index.html">
                        <i
                            class="display:flex height:18px fill:#505050"
                            src="/assets/svg/palette.svg"></i>
                        <div
                            pass_id="render"
                            pass-collection=""
                            pass-document_id=""
                            pass-name=""
                            pass_to="builder"></div>
                    </a>
                </li>

                <!-- deleteDocument-->
                <li class="margin-right:15px">
                    <a
                        actions="deleteDocument, closeModal"
                        collection="files"
                        document_id=""
                        pass_id="form-fields">
                        <i
                            class="height:18px fill:#505050"
                            src="/assets/svg/trash-alt.svg"></i>
                    </a>
                </li>
            </ul>
        </nav>

        <main class="padding:10px" content_id="content">
            <form pass_id="form-fields" collection="files" document_id="">
                <div class="form-fields">
                    <input
                        type="hidden"
                        name="module_id"
                        value=""
                        pass_id="module_id" />
                    <floating-label>
                        <input
                            type="text"
                            name="name"
                            class="floating-label"
                            placeholder="File Name" />
                    </floating-label>
                    <floating-label>
                        <cocreate-select
                            name="domains"
                            class="floating-label"
                            placeholder="domains"
                            multiple>
                            <input
                                placeholder="Search"
                                template_id="domains"
                                tags="true" />
                            <cc-options
                                fetch-collection="organizations"
                                fetch-name="domains"
                                filter-name="_id"
                                filter-value="5ff747727005da1c272740ab"
                                filter-operator="$eq"
                                template_id="domains"
                                class="overflow:auto">
                                <cc-option
                                    class="display:flex"
                                    template="domains"
                                    value="{{domains}}">
                                    <h4>{{domains}}</h4>
                                </cc-option>
                            </cc-options>
                        </cocreate-select>
                    </floating-label>
                    <floating-label>
                        <input
                            type="text"
                            name="path"
                            placeholder="path"
                            class="floating-label" />
                    </floating-label>
                    <floating-label>
                        <input
                            type="text"
                            name="directory"
                            placeholder="directory"
                            class="floating-label" />
                    </floating-label>
                    <floating-label>
                        <textarea
                            name="src"
                            placeholder="src"
                            class="floating-label"></textarea>
                    </floating-label>
                    <floating-label>
                        <input
                            type="text"
                            name="content-type"
                            placeholder="content-type"
                            class="floating-label" />
                    </floating-label>
                    <floating-label>
                        <cocreate-select
                            name="tags"
                            placeholder="Tags"
                            sortable
                            class="floating-label"
                            multiple>
                            <input placeholder="Search" template_id="tags" />
                            <div
                                template_id="datatable"
                                filter-name="type"
                                filter-value="type"></div>
                            <cc-options
                                fetch-collection="tags"
                                filter-name="module_id"
                                filter-value="5ff747727005da1c2727419a"
                                pass_id="module_id"
                                template_id="tags"
                                class="overflow:auto">
                                <cc-option
                                    class="display:flex"
                                    template="tags"
                                    value="{{document._id}}">
                                    <h4>{{document.name}}</h4>
                                </cc-option>
                            </cc-options>
                        </cocreate-select>
                    </floating-label>
                    <input
                        type="checkbox"
                        name="public"
                        value="true"
                        class="margin-top:10px" /><label> Public</label>
                    <floating-label>
                        <input
                            type="text"
                            name="collection"
                            class="floating-label"
                            placeholder="collection" />
                    </floating-label>
                    <floating-label>
                        <input
                            type="text"
                            name="module_id"
                            class="floating-label"
                            placeholder="document_id" />
                    </floating-label>
                    <floating-label>
                        <input
                            type="text"
                            name="name"
                            class="floating-label"
                            placeholder="name" />
                    </floating-label>
                    <floating-label>
                        <cocreate-select
                            name="module_id"
                            placeholder="Modules"
                            sortable
                            class="floating-label"
                            multiple>
                            <input
                                placeholder="Search"
                                template_id="module_id" />
                            <cc-options
                                fetch-collection="modules"
                                filter-sort-name="name"
                                template_id="module_id"
                                class="overflow:auto">
                                <cc-option
                                    template="module_id"
                                    value="{{document._id}}">
                                    <div class="display:flex padding:5px">
                                        <span class="width:25px"
                                            >{{document.icon}}</span
                                        >
                                        <h4
                                            collection="{{document.collection}}">
                                            {{document.name}}
                                        </h4>
                                    </div>
                                </cc-option>
                            </cc-options>
                        </cocreate-select>
                    </floating-label>
                    <floating-label>
                        <cocreate-select
                            name="website_id"
                            placeholder="Website"
                            sortable
                            class="floating-label">
                            <input
                                placeholder="Search"
                                template_id="website_id" />
                            <cc-options
                                fetch-collection="module_activities"
                                filter-name="module_id"
                                filter-value="5ff747727005da1c27274185"
                                filter-sort-name="name"
                                template_id="website_id"
                                class="overflow:auto">
                                <cc-option
                                    template="website_id"
                                    value="{{document._id}}">
                                    <div class="display:flex padding:5px">
                                        <span class="width:25px"
                                            >{{document.icon}}</span
                                        >
                                        <h4
                                            collection="{{document.collection}}">
                                            {{document.name}}
                                        </h4>
                                    </div>
                                </cc-option>
                            </cc-options>
                        </cocreate-select>
                    </floating-label>
                </div>
                <div id="uploader" class="uploader" hidden>
                    <form>
                        <input
                            type="file"
                            directory
                            template_id="file-preview"
                            collection="files" />

                        <button actions="upload">upload</button>
                    </form>

                    <div template="file-preview">
                        <input file="name" value="{{name}}" />
                        <input file="directory" value="{{directory}}" />
                        <input file="content-type" value="{{content-type}}" />

                        <textarea file="src" value-type="string">
                            {{src}}
                        </textarea>
                    </div>
                </div>
                <button
                    show=".uploader, .form-fields"
                    hide=".form-fields, .uploader"
                    class="position:absolute bottom:15px left:15px width:54px height:54px background:dodgerblue grow-hover border-radius:50% padding:15px">
                    <i
                        class="form-fields height:20px fill:#505050"
                        src="/assets/svg/cloud-upload-alt.svg"></i>
                    <i
                        class="uploader hidden height:20px fill:#505050"
                        src="/assets/svg/times.svg"></i>
                </button>
                <button
                    actions="save"
                    class="position:absolute bottom:15px right:15px background:dodgerblue grow-hover border-radius:50% padding:15px">
                    <i
                        class="height:20px fill:#505050"
                        src="/assets/svg/save.svg"></i>
                </button>
            </form>
        </main>

        <script src="https://cdn.cocreate.app/1.57.17/CoCreate.min.js"></script>
    </body>
</html>
